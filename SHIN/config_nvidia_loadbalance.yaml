# LiteLLM Configuration with NVIDIA NIM Load Balancing
# This config uses BOTH NVIDIA API keys for load balancing across requests
# Reference: https://docs.api.nvidia.com/nim/reference/llm-apis

model_list:
  # NVIDIA Llama 3.1 Nemotron 70B - Load Balanced across 2 API keys
  - model_name: nvidia-llama-3-1-nemotron-70b
    litellm_params:
      model: nvidia_nim/nvidia/llama-3.1-nemotron-70b-instruct
      api_key: os.environ/NVIDIA_NIM_API_KEY
      api_base: https://integrate.api.nvidia.com/v1
  
  - model_name: nvidia-llama-3-1-nemotron-70b
    litellm_params:
      model: nvidia_nim/nvidia/llama-3.1-nemotron-70b-instruct
      api_key: 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
      api_base: https://integrate.api.nvidia.com/v1
  
  # NVIDIA Mistral Nemo 12B - Load Balanced
  - model_name: nvidia-mistral-nemo-12b
    litellm_params:
      model: nvidia_nim/mistralai/mistral-nemo-12b-instruct
      api_key: os.environ/NVIDIA_NIM_API_KEY
      api_base: https://integrate.api.nvidia.com/v1
  
  - model_name: nvidia-mistral-nemo-12b
    litellm_params:
      model: nvidia_nim/mistralai/mistral-nemo-12b-instruct
      api_key: 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
      api_base: https://integrate.api.nvidia.com/v1
  
  # NVIDIA Llama 3.1 8B - Load Balanced
  - model_name: nvidia-llama-3-1-8b
    litellm_params:
      model: nvidia_nim/meta/llama-3.1-8b-instruct
      api_key: os.environ/NVIDIA_NIM_API_KEY
      api_base: https://integrate.api.nvidia.com/v1
  
  - model_name: nvidia-llama-3-1-8b
    litellm_params:
      model: nvidia_nim/meta/llama-3.1-8b-instruct
      api_key: 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
      api_base: https://integrate.api.nvidia.com/v1

litellm_settings:
  drop_params: true
  set_verbose: true
  request_timeout: 600

general_settings:
  master_key: os.environ/LITELLM_MASTER_KEY
  database_url: "sqlite:///litellm.db"

router_settings:
  routing_strategy: simple-shuffle  # Load balance across API keys
  enable_loadbalancing: true
  num_retries: 3
  retry_after: 2
  timeout: 600

